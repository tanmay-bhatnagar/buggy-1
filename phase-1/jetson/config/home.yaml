# Home indoor profile: Conservative, slow movement in tight spaces
# Designed for environments with close obstacles (furniture, walls, etc.)

pairing_seconds: 30       # 30 second countdown before buggy starts moving
max_seconds: 30           # Run for 30 seconds after countdown

serial:
  port: /dev/ttyACM0
  baud: 115200
  timeout_ms: 200

# Conservative thresholds - stop early, turn early, go slow early
thresholds_cm:
  slow_enter: 80          # Drop to SLOW when center < 80 cm (very early)
  slow_exit: 100          # Back to FAST when > 100 cm (rarely happens indoors)
  turn_enter: 50          # Start turning when < 50 cm
  turn_exit: 65           # Resume forward when > 65 cm
  stop_enter: 25          # STOP + BACKOFF when < 25 cm (closer approach)
  stop_exit: 45           # Resume when > 45 cm
  min_valid: 2            # Accept readings down to 2cm (very close obstacles)
  max_valid: 300

# Fast scanning, methodical decisions
cadence_ms:
  rescan_ms: 450          # Scan every 450ms (deliberate decision-making)
  min_turn_ms: 1200       # Commit to turns for 1.2s (finish what you start)
  backoff_ms: 100         # Minimal reverse (~4-5cm only)
  stall_timer_ms: 4000    # More patience before giving up
  meas_cooldown_ms: 40    # Safe ping spacing for HC-SR04 (avoids echo interference)
  servo_settle_ms: 80     # Quick settle (was 150ms)

# Fast 7-angle sweep with quick rotation
sweep:
  left_deg: 135
  right_deg: 45
  step_deg: 15            # All 7 angles: 90°→75°→105°→60°→120°→45°→135°
  center_trim_deg: 0
  samples_per_point: 2    # 2 samples per angle (faster than 3)

# Extremely slow, precision crawling speed
pwm:
  fast: 140               # "Fast" is barely moving
  slow: 105               # Slow is extremely gentle
  ramp_ms: 400            # Very gentle acceleration

watchdog:
  hb_period_ms: 200
  hb_timeout_ms: 600

logging:
  csv_path: logs/home_run.csv
  console_hud: true
  include_latency_ms: true

